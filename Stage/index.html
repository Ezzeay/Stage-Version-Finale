<!DOCTYPE html>
<html lang="en">


<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width= device-width, initial-scale=1.0">
    <title>Simulateur 2D 3D</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <script src="js/pixi.min.js"></script>

    <script src="https://unpkg.com/three@0.128.0/build/three.min.js"></script>
    <script src="js/OrbitControls.js"></script>
    <script src="https://unpkg.com/three@0.128.0/examples/js/loaders/GLTFLoader.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/0.4.1/html2canvas.min.js"></script>
    <script src="js/pixijs-grid/src/pixijs-grid.js"></script>
    <script type="text/javascript" src="js/script.js"></script>
    <script src="https://unpkg.com/eventemitter3@latest/umd/eventemitter3.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script type="module" src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/0.4.1/html2canvas.min.js"></script>
    <script type="text/javascript" src="js/functions.js"></script>
    <script src="js/canvas2image.js"></script>

    <script src="https://unpkg.com/color.js@1.2.0/dist/color.js"></script>

</head>

<body style="background-color: 	#505050;">
    <ul class="classique">
        <nav class="navbar-brand">
            <a class="navbar-brand" href="index.html">
                <img src="/logo/Logo_noir_Petit_format-removebg-preview.png" width="600" height="200" class="d-inline-block align-center">
            </a>
            <nav class="navbar-name">Simulateur 2D & 3D</nav>
        </nav>

    </ul>
    <div class='wholeShit'>
        <div class='mytooltip'>
            <div class='rightClick showing'>
                <div class='buttons'>
                    <button class='but rotate'>2D</button>
                    <button class='but paint'>3D</button>
                    <button class='but delete'>&#128465;</button>
                </div>
            </div>
        </div>
    </div>

    <button class="buttonscreen" onclick="takeshot()">Screenshot</button>

    <div class="container" id="container">
    </div>
    <script type="text/javascript" src="js/listmodel.js"></script>
    <script src="js/three.js" async></script>
    <canvas id="painting" width="250" height="250">       
    </canvas>
    <script>
        var temp = document.getElementById("painting");
        var tempctx = temp.getContext('2d');
        const img1 = new Image();
        //img1.onload = draw;
        img1.src = 'modeles/echoppe.png';

        var paint = document.getElementsByClassName("but")[1];
        //paint.addEventListener('click', copy, false);
        var colours = {};
        var sortedcolours = [];
        var data = tempctx.getImageData(0, 0, 250, 250).data;
        if (data == undefined) {

        }
        for (var i = 0; i < data.length; i += 4) {
            var key = data[i] + '-' + data[i + 1] + '-' +
                data[i + 2] + '-' + data[i + 3];
            if (colours[key]) {
                colours[key]++;
            } else {
                colours[key] = 1;
            }
        }

        sortedcolours = Object.keys(colours).sort(
            function(a, b) {
                return -(colours[a] - colours[b]);
            }
        );
        temp.addEventListener('mousemove', readcol, false);
        temp.addEventListener('click', replacecol, false);
    </script>


    <input type="color" id="primary_color" class="field-radio" value="#F08080">
    <button id="viewbutton"></button>




</body>

</html>